<!DOCTYPE html>
<html class="light" lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nosotros - Web Ozz Store</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@200..700&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap"
        rel="stylesheet" />
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#1313ec",
                        "primary-hover": "#0f0fc7",
                        "background-light": "#f6f6f8",
                        "background-dark": "#0a0a1a",
                        "surface-light": "#ffffff",
                        "surface-dark": "#15152a",
                    },
                    fontFamily: { "display": ["Manrope", "sans-serif"] },
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Manrope', sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        .gradient-text {
            background: linear-gradient(135deg, #1313ec 0%, #8b5cf6 50%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .prose-content p {
            margin-bottom: 1.25rem;
            line-height: 1.8;
        }

        .prose-content strong {
            color: #1313ec;
            font-weight: 600;
        }

        .feature-card {
            background: linear-gradient(135deg, rgba(19, 19, 236, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%);
            border: 1px solid rgba(19, 19, 236, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(19, 19, 236, 0.1);
        }
    </style>
    <script src="./js/env.js"></script>
</head>

<body class="bg-background-light dark:bg-background-dark text-gray-900 dark:text-gray-100 min-h-screen">
    <!-- Header -->
    <div id="site-header"></div>

    <!-- Hero Section -->
    <section
        class="relative overflow-hidden bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 py-20 md:py-32">
        <div class="absolute inset-0 opacity-20">
            <div class="absolute inset-0" style="background-image: url('data:image/svg+xml,%3Csvg width=\" 60\"
                height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\"
                fill-rule=\"evenodd\"%3E%3Cg fill=\"%239C92AC\" fill-opacity=\"0.1\"%3E%3Cpath d=\"M36
                34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6
                4V0H4v4H0v2h4v4h2V6h4V4H6z\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');">
            </div>
        </div>
        <div class="absolute top-0 left-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl"></div>
        <div class="absolute bottom-0 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl"></div>

        <div class="max-w-5xl mx-auto px-4 relative z-10 text-center">
            <div class="inline-flex items-center gap-2 bg-white/10 px-4 py-2 rounded-full mb-8">
                <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
                <span class="text-white/80 text-sm font-medium">Conoce nuestra historia</span>
            </div>
            <h1 id="about-title" class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-white mb-6 leading-tight">
                Sobre <span class="gradient-text">Nosotros</span>
            </h1>
            <p class="text-xl text-gray-300 max-w-2xl mx-auto">
                Tu destino confiable para tecnología premium y componentes de alto rendimiento
            </p>
        </div>
    </section>

    <main class="max-w-5xl mx-auto px-4 py-16 md:py-24">
        <!-- Loading -->
        <div id="about-loading" class="text-center py-20">
            <div class="inline-flex items-center gap-3 text-slate-500">
                <svg class="animate-spin w-6 h-6" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor"
                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                    </path>
                </svg>
                <span class="text-lg">Cargando contenido...</span>
            </div>
        </div>

        <!-- Content -->
        <div id="about-content" class="hidden">
            <!-- Image -->
            <div id="about-image-container" class="hidden mb-16">
                <div class="relative rounded-2xl overflow-hidden shadow-2xl">
                    <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent z-10"></div>
                    <img id="about-image" src="" alt="Nosotros" class="w-full max-h-[500px] object-cover" />
                </div>
            </div>

            <!-- Body Content -->
            <div id="about-body" class="prose-content text-lg text-gray-700 dark:text-gray-300 leading-relaxed mb-16">
                <!-- Content loaded dynamically -->
            </div>

            <!-- Features Section -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-16">
                <div class="feature-card rounded-2xl p-6 text-center">
                    <div class="w-14 h-14 bg-primary/10 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <span class="material-symbols-outlined text-primary text-2xl">verified</span>
                    </div>
                    <h3 class="font-bold text-lg mb-2">Productos Originales</h3>
                    <p class="text-gray-600 dark:text-gray-400 text-sm">Garantizamos autenticidad en cada producto</p>
                </div>
                <div class="feature-card rounded-2xl p-6 text-center">
                    <div class="w-14 h-14 bg-green-500/10 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <span class="material-symbols-outlined text-green-500 text-2xl">local_shipping</span>
                    </div>
                    <h3 class="font-bold text-lg mb-2">Envío Rápido</h3>
                    <p class="text-gray-600 dark:text-gray-400 text-sm">Entrega coordinada a todo el país</p>
                </div>
                <div class="feature-card rounded-2xl p-6 text-center">
                    <div class="w-14 h-14 bg-purple-500/10 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <span class="material-symbols-outlined text-purple-500 text-2xl">support_agent</span>
                    </div>
                    <h3 class="font-bold text-lg mb-2">Soporte Técnico</h3>
                    <p class="text-gray-600 dark:text-gray-400 text-sm">Te ayudamos con dudas de compatibilidad</p>
                </div>
                <div class="feature-card rounded-2xl p-6 text-center">
                    <div class="w-14 h-14 bg-orange-500/10 rounded-xl flex items-center justify-center mx-auto mb-4">
                        <span class="material-symbols-outlined text-orange-500 text-2xl">thumb_up</span>
                    </div>
                    <h3 class="font-bold text-lg mb-2">Precios Justos</h3>
                    <p class="text-gray-600 dark:text-gray-400 text-sm">Calidad sin inflar el precio</p>
                </div>
            </div>

            <!-- CTA -->
            <div
                class="text-center bg-gradient-to-r from-primary/5 to-purple-500/5 rounded-3xl p-10 border border-primary/10">
                <h2 class="text-2xl md:text-3xl font-bold mb-4">¿Listo para armar tu setup?</h2>
                <p class="text-gray-600 dark:text-gray-400 mb-6 max-w-lg mx-auto">
                    Explora nuestro catálogo de componentes y periféricos premium
                </p>
                <a href="/shop.html"
                    class="inline-flex items-center gap-2 bg-primary hover:bg-primary-hover text-white font-bold px-8 py-4 rounded-xl transition-colors">
                    <span>Ver Productos</span>
                    <span class="material-symbols-outlined">arrow_forward</span>
                </a>
            </div>
        </div>

        <!-- Empty state -->
        <div id="about-empty" class="hidden text-center py-20">
            <div
                class="w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-6">
                <span class="material-symbols-outlined text-4xl text-slate-400">info</span>
            </div>
            <h2 class="text-2xl font-bold text-slate-900 dark:text-white mb-3">Contenido en preparación</h2>
            <p class="text-slate-500 dark:text-slate-400 max-w-md mx-auto">
                La página de Nosotros aún no tiene contenido configurado. Pronto agregaremos más información.
            </p>
            <a href="/shop.html" class="inline-flex items-center gap-2 text-primary hover:underline mt-6 font-medium">
                <span>Ver productos mientras tanto</span>
                <span class="material-symbols-outlined text-sm">arrow_forward</span>
            </a>
        </div>
    </main>

    <!-- Footer -->
    <div id="site-footer"></div>

    <script type="module" src="./js/partials.js"></script>
    <script type="module">
        import { supabase } from './js/supabaseClient.js';

        async function loadAbout() {
            const loading = document.getElementById('about-loading');
            const content = document.getElementById('about-content');
            const empty = document.getElementById('about-empty');

            try {
                const storeSlug = window.__ENV?.STORE_SLUG || 'tech-boutique';

                // Get store
                const { data: store } = await supabase
                    .from('stores')
                    .select('id')
                    .eq('slug', storeSlug)
                    .single();

                if (!store) throw new Error('Store not found');

                // Get settings
                const { data: settings } = await supabase
                    .from('settings')
                    .select('key, value')
                    .eq('store_id', store.id)
                    .in('key', ['about_title', 'about_body', 'about_image']);

                const config = {};
                settings?.forEach(s => { config[s.key] = s.value; });

                loading.classList.add('hidden');

                if (!config.about_title && !config.about_body) {
                    empty.classList.remove('hidden');
                    return;
                }

                // Populate content
                if (config.about_title) {
                    const titleEl = document.getElementById('about-title');
                    // Keep "Sobre" prefix with gradient
                    titleEl.innerHTML = `Sobre <span class="gradient-text">${config.about_title}</span>`;
                    document.title = `${config.about_title} - OzzStore`;
                }

                if (config.about_body) {
                    // Convert markdown-like formatting
                    let html = config.about_body
                        .replace(/</g, '&lt;')
                        .replace(/>/g, '&gt;')
                        .replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>')
                        .replace(/\n\n/g, '</p><p>')
                        .replace(/\n/g, '<br>');

                    document.getElementById('about-body').innerHTML = `<p>${html}</p>`;
                }

                if (config.about_image) {
                    document.getElementById('about-image').src = config.about_image;
                    document.getElementById('about-image-container').classList.remove('hidden');
                }

                content.classList.remove('hidden');

            } catch (err) {
                console.error('Error loading about:', err);
                loading.classList.add('hidden');
                empty.classList.remove('hidden');
            }
        }

        loadAbout();
    </script>
</body>

</html>